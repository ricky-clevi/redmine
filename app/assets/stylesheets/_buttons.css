/**
 * Redmine Modern UI - Buttons (Phase 3)
 * 
 * Modern button styles using design tokens.
 */

/* ============================================
 * BASE BUTTON STYLES
 * ============================================ */

.btn,
button[type="submit"],
input[type="submit"],
input[type="button"],
input[type="reset"] {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: var(--space-2);

  height: 32px;
  /* Linear Medium */
  padding-block: 0;
  padding-inline: var(--space-3);

  font-family: var(--font-family);
  font-size: 13px;
  font-weight: var(--font-medium);
  line-height: 1;
  text-decoration: none;
  white-space: nowrap;

  background: linear-gradient(to bottom, #FFFFFF, #F9F9FB);
  border: 1px solid rgba(0, 0, 0, 0.1);
  border-radius: 6px;
  /* var(--radius-md) */
  box-shadow: var(--shadow-xs);
  cursor: pointer;

  transition: all 100ms ease-out;
}

.btn:active,
button[type="submit"]:active,
input[type="submit"]:active,
input[type="button"]:active,
input[type="reset"]:active {
  transform: scale(0.98);
}

.btn:focus-visible,
button[type="submit"]:focus-visible,
input[type="submit"]:focus-visible,
input[type="button"]:focus-visible {
  outline: none;
  box-shadow: var(--shadow-focus-ring);
}

.btn:disabled,
button[type="submit"]:disabled,
input[type="submit"]:disabled,
input[type="button"]:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

/* ============================================
 * PRIMARY BUTTON
 * ============================================ */

.btn--primary,
button[type="submit"],
input[type="submit"] {
  background: var(--color-primary-600) !important;
  color: var(--color-neutral-0) !important;
  border: none !important;
  height: 40px !important;
  padding: 0 20px !important;
  border-radius: var(--radius-lg) !important;
  font-weight: var(--font-medium) !important;
  cursor: pointer !important;
  display: inline-flex !important;
  align-items: center !important;
  justify-content: center !important;
  transition: background 0.15s !important;
}

.btn--primary:hover,
button[type="submit"]:hover,
input[type="submit"]:hover {
  background: var(--color-primary-700) !important;
  text-decoration: none !important;
}

.btn--primary:active,
button[type="submit"]:active,
input[type="submit"]:active {
  background: var(--color-primary-800) !important;
}

/* ============================================
 * SECONDARY BUTTON
 * ============================================ */

.btn--secondary,
input[type="button"],
input[type="reset"] {
  background: linear-gradient(to bottom, #FFFFFF, #F9F9FB);
  color: var(--color-text-primary);
  border: 1px solid rgba(0, 0, 0, 0.1);
}

.btn--secondary:hover,
input[type="button"]:hover,
input[type="reset"]:hover {
  background: #F4F5F8;
  border-color: rgba(0, 0, 0, 0.15);
  text-decoration: none;
}

/* ============================================
 * DANGER BUTTON
 * ============================================ */

.btn--danger {
  background: var(--color-danger-600);
  color: var(--color-neutral-0);
  border-color: var(--color-danger-600);
}

.btn--danger:hover {
  background: var(--color-danger-700);
  border-color: var(--color-danger-700);
}

.btn--danger:active {
  background: var(--color-danger-700);
}

/* ============================================
 * SUCCESS BUTTON
 * ============================================ */

.btn--success {
  background: var(--color-success-600);
  color: var(--color-neutral-0);
  border-color: var(--color-success-600);
}

.btn--success:hover {
  background: var(--color-success-700);
  border-color: var(--color-success-700);
}

/* ============================================
 * GHOST BUTTON
 * ============================================ */

.btn--ghost {
  background: transparent;
  color: var(--color-text-secondary);
  border-color: transparent;
}

.btn--ghost:hover {
  background: var(--color-bg-hover);
  color: var(--color-text-primary);
}

/* ============================================
 * BUTTON SIZES
 * ============================================ */

.btn--sm {
  height: var(--height-input-sm);
  padding-inline: var(--space-3);
  font-size: var(--text-xs);
}

.btn--lg {
  height: var(--height-input-lg);
  padding-inline: var(--space-6);
  font-size: var(--text-base);
}

/* ============================================
 * ICON BUTTON
 * ============================================ */

.btn--icon {
  padding: 0;
  width: var(--height-input-md);
  justify-content: center;
}

.btn--icon.btn--sm {
  width: var(--height-input-sm);
}

.btn--icon.btn--lg {
  width: var(--height-input-lg);
}

/* ============================================
 * BUTTON GROUP
 * ============================================ */

.btn-group {
  display: inline-flex;
  gap: var(--space-2);
}

.btn-group--attached {
  gap: 0;
}

.btn-group--attached .btn {
  border-radius: 0;
}

.btn-group--attached .btn:first-child {
  border-start-start-radius: var(--radius-lg);
  border-end-start-radius: var(--radius-lg);
}

.btn-group--attached .btn:last-child {
  border-start-end-radius: var(--radius-lg);
  border-end-end-radius: var(--radius-lg);
}

/* ============================================
 * ICON LINKS AS BUTTONS
 * ============================================ */

a.icon,
a[class*="icon-"] {
  display: inline-flex;
  align-items: center;
  gap: var(--space-1-5);
  padding: var(--space-1) var(--space-2);
  border-radius: var(--radius-md);
  color: var(--color-text-secondary);
  text-decoration: none;
  font-size: var(--text-sm);
  transition: var(--transition-colors);
}

a.icon:hover,
a[class*="icon-"]:hover {
  background: var(--color-bg-hover);
  color: var(--color-text-primary);
  text-decoration: none;
}

a.icon-add,
a.icon-add:link {
  color: var(--color-success-600);
}

a.icon-add:hover {
  background: var(--color-success-50);
}

a.icon-del,
a.icon-del:link {
  color: var(--color-danger-600);
}

a.icon-del:hover {
  background: var(--color-danger-50);
}

/* ============================================
 * LEGACY BUTTON SUPPORT
 * ============================================ */

/* Style old-style buttons to match new design */
button.delete,
input.delete,
a.delete {
  color: var(--color-danger-600);
}

button.delete:hover,
input.delete:hover,
a.delete:hover {
  color: var(--color-danger-700);
}